<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets">
<h:head>

	<f:metadata>
		<f:event listener="#{userBean.verifyLoginClient}" type="preRenderView"></f:event>
	</f:metadata>
	<title>Client</title>
</h:head>
<h:body>

	<ui:composition template="/template/template.xhtml">
		<ui:include src="/primefaces/homepage.xhtml"></ui:include>

		<ui:define name="content">
			<h:outputStylesheet name="primeicons/primeicons.css"
				library="primefaces" /> 

			<p:growl id="growl"></p:growl>



			<h:form>
				<p:commandButton class="logoutButton" value="Log out"
					icon="pi pi-sign-out" action="#{userBean.logout}">
				</p:commandButton>
				<br></br>
			</h:form>

			<section class="showcaseClient">
				<br></br>


				<h:outputText id="welcomeClient"
					value="Welcome to Client Page #{clientBean.user.name}"></h:outputText>
				<div class="discount">
					<h:outputText value="#{clientBean.output}" />
				</div>

				<h:form id="from">

					<div class="info">

						<p class="details">YOUR PERSONAL DETAILS.</p>
						<p:panelGrid columns="2" id="personalInfo">


							<h:outputText value="Name:" />
							<h:outputText value="#{clientBean.user.name}" />

							<h:outputText value="Surname:" />
							<h:outputText value="#{clientBean.user.surname}" />

							<h:outputText value="Username:" />
							<h:outputText value="#{clientBean.user.username}" />

							<h:outputText value="Birthday:" />
							<h:outputText value="#{clientBean.user.birthday}">
								<f:convertDateTime pattern="dd.MM.yyyy" />
							</h:outputText>




						</p:panelGrid>
					</div>

					<br></br>
					<br></br>

					<p:commandButton value="Change password" update="passwordDialog"
						class="changePasswordButton" process="@this"
						oncomplete="PF('PasswordDialog').show();">



					</p:commandButton>

					<!-- DIALOGS -->





					<p:dialog header="Change password" id="passwordDialog"
						widgetVar="PasswordDialog" modal="true">


						<h:panelGrid columns="3">
							<h:outputLabel value="Your current password "
								for="currentPassword"></h:outputLabel>
							<p:password id="currentPassword" required="true"
								value="#{clientBean.oldPasswordTyped}"></p:password>
							<br></br>

							<h:outputLabel value="Your new password" for="newPassword"></h:outputLabel>
							<p:password id="newPassword" required="true"
								value="#{clientBean.newPassword}"></p:password>
							<br></br>
							<h:outputLabel value="Retype your new password"
								for="retypeNewPassword"></h:outputLabel>
							<p:password id="retypeNewPassword" required="true"
								value="#{clientBean.newPasswordRetyped}"></p:password>
							<br></br>


							<p:commandButton process="passwordDialog" update="growl"
								value="Save" actionListener="#{clientBean.changePassword}"
								oncomplete="PF('PasswordDialog').hide();">

							</p:commandButton>







						</h:panelGrid>


					</p:dialog>









					<div class="otherButtons">
						<p:commandButton class="reviewButton" value="Write a review :)"
							update="reviewDialog" process="@this"
							oncomplete="PF('ReviewDialog').show();" icon="pi pi-star"
							style="color:black;">

						</p:commandButton>

						<br></br> <br></br> <br></br>
						<p:button class="orderButton" outcome="order" value="Order"
							icon="pi pi-star" style="color:black;">

						</p:button>
						<br></br> <br></br> <br></br>
						<p:commandButton class="clientOrders"
							value="EDIT/DELETE YOUR REVIEWS" icon="pi pi-star"
							style="color:black;">

						</p:commandButton>



					</div>



					<p:dialog header="WRITE A REVIEW FOR OUR SERVICE AND FOOD :)"
						id="reviewDialog" widgetVar="ReviewDialog" modal="true">


						<h:panelGrid columns="3">

							<h:inputTextarea id="review" required="true" rows="6" cols="33"></h:inputTextarea>
							<br></br>



							<p:commandButton process="reviewDialog"
								update="personalInfo growl" value="Post"
								oncomplete="PF('EditDialog').hide();">

							</p:commandButton>
							<!-- rregullo updatin -->



						</h:panelGrid>


					</p:dialog>


				</h:form>






			</section>


			<style>
.details {
	font-family: "Copperplate Gothic Light";
	font-style: italic;
	font-variant: normal;
	font-weight: 700;
	line-height: 27.5px;
}

#welcomeClient {
	position: relative;
	left: 34%;
	font-family: "Copperplate Gothic Light";
	font-size: 30px;
	font-style: italic;
	font-variant: normal;
	font-weight: 700;
	line-height: 27.5px;
}

.showcaseClient {
	min-height: 500px;
	margin-bottom: 10px;
	background:
		url(https://www.coreldraw.com/static/cdgs/images/pages/seo/tips/photo/basics/blur-background/blur-background.jpg);
	background-repeat: no-repeat;
	background-size: 1600px 900px;
	background-attachment: fixed;
	background-position: center;
}

.info {
	position: relative;
	top: 60px;
	left: 350px;
}

.editButton {
	position: relative;
	text-align: center;
	left: 22%;
	top: 50px;
	background-color: transparent;
	border-style: inset;
	font-family: 'Courier New';
	background-color: transparent;
}

.changePasswordButton {
	position: relative;
	text-align: center;
	left: 24%;
	top: 50px;
	background-color: transparent;
	border-style: inset;
	font-family: 'Courier New';
	background-color: transparent;
}

.otherButtons {
	position: relative;
	bottom: 190px;
	left: 500px;
}

.reviewButton {
	position: relative;
	text-align: center;
	left: 20%;
	top: 50px;
	background-color: transparent;
	border-style: inset;
	font-family: 'Courier New';
	background-color: transparent;
	border-radius: 2px;
	padding: 15px 5px;
}

.orderButton {
	position: relative;
	text-align: center;
	left: 20%;
	top: 50px;
	background-color: transparent;
	border-style: inset;
	font-family: 'Courier New';
	background-color: transparent;
	border-radius: 2px;
	padding: 15px 5px;
}

.clientOrders {
	position: relative;
	text-align: center;
	left: 20%;
	top: 50px;
	background-color: transparent;
	border-style: inset;
	font-family: 'Courier New';
	background-color: transparent;
	border-radius: 2px;
	padding: 15px 5px;
}

.logoutButton {
	margin: 0;
	position: absolute;
	top: 19%;
	left: 91.5%;
}

.discount {
	top: 20px;
	position: relative;
	left: 21%;
}
</style>

		</ui:define>
	</ui:composition>
</h:body>
</html>